$(document).ready(function(){$("input").each(function(){$(this).attr("name",$(this).data("name"))}),$(".choiceactive.card").toggleClass("choiceActiveBorder"),$("#laminat").prop("checked",!0);const e={arrows:!1,pagination:!1,speed:550,flickPower:400,breakpoints:{480:{pagination:!0,speed:650}}},i=new Splide(".slider-container.splide",e);if(i.mount(),$(".slider-wrapper.splide").length){$(".fact-link").on("click",function(){$(this).is(".active")||(a($(".fact-container.active")),c($(".fact-container").eq($(this).index())),a($(".fact-link.active")),c($(this)))}),$(".tab-new").on("click",function(){if($(this).is(".active"))return;let e=$(this).index();a($(".tab-new.active")),c($(this)),a($(".slider-image-new")),$(".slider-image-new").each(function(){$(this).index()==e&&c($(this))});let t=o(e);n($(".calculator-slide.splide__slide .calculator-slide, .calculator-slide .color-var, .wrap-border.calculator-btn")),l($(".calculator-slide.splide__slide .calculator-slide .color-1, .calculator-slide"+`.${t}, .specification-${t}.color-1`)),l($(".calculator-slide.splide__slide .calculator-slide").eq(e)),$(".calculator-tab.w--current").removeClass("w--current"),$(".calculator-tab").eq(e).addClass("w--current"),a($(".color-tab.active, .slide-nav.active")),$(".div-block-14 .color-tab").each(function(){0==$(this).index()&&c($(this))}),i.refresh()});const s=new Splide(".slider-wrapper.splide",e);function t(){$(".splide__list").css("height",$(".splide__slide.is-active .active img").height())}s.mount(),s.on("move",()=>{setTimeout(t,vw>480?650:750)}),t(),$(".slick-btn-prev, .slick-btn-next").on("click",function(){let e,i,t=s.index;switch($(".slick-btn-prev, .slick-btn-next").removeClass("disabled"),0==$(this).index()?(s.go("<"),t---1==0&&$(this).addClass("disabled")):(s.go(">"),1+t++==4&&$(this).addClass("disabled")),t){case 0:e="",i="Дивитись спальню";break;case 1:e="Дивитись вітальню",i="Дивитись кухню";break;case 2:e="Дивитись спальню",i="Дивитись душ";break;case 3:e="Дивитись кухню",i="Дивитись ванну";break;case 4:e="Дивитись душ",i="";break;default:return}$(".slick-prev-text").html(e),$(".slick-next-text").html(i)})}function o(e){return 0===e?"cozy":1===e?"japandi":2===e?"fusion":3===e?"modern":"neoclassic"}function c(e){return e.addClass("active")}function a(e){return e.removeClass("active")}function n(e){e.toggle(!1)}function l(e){e.toggle(!0)}function s(e,i){return isFinite(e.data(i))?parseInt(e.data(i)):e.data(i)}function r(e){return isFinite(e.val())?parseInt(e.val()):e.val()}function d(e){return+e.is(":checked")}$(".calculator-tab").on("click",function(){let e=$(this).index(),t=o(e);n($(".calculator-slide.splide__slide .calculator-slide, .calculator-slide .color-var, .wrap-border.calculator-btn")),l($(".calculator-slide.splide__slide .calculator-slide .color-1, .calculator-slide"+`.${t}, .specification-${t}.color-1`)),l($(".calculator-slide.splide__slide .calculator-slide").eq(e)),$(".calculator-tab.w--current").removeClass("w--current"),$(`.calculator-tab:eq(${e})`).addClass("w--current"),a($(".color-tab.active, .slide-nav.active")),$(".tab-new").eq(e).trigger("click"),$(".div-block-14 .color-tab").each(function(){0==$(this).index()&&c($(this))}),i.refresh()}),$(".wrap-border.calculator-btn").click(()=>{let e={_costPerMetre:$("#total").html(),_appliances:$(".choiceActiveBorder").data("appliances"),_style:style,_bath:+$("#bathtub").is(":checked"),_shower:+$("#shower").is(":checked"),_ceiling:r($(":radio[name='ceiling']:checked")),_flooring:r($(":radio[name='flooring']:checked")),_hygienicShower:d($("#hygienicShower")),_secondGypsumLayer:d($("#secondGypsumLayer")),_floorScreen:d($("#floorscreed")),_heatedFlooring:r($("#heatedFlooring")),_denoising:d($("#noise")),_entranceDoors:d($("#doors")),_conditioning:r($("#conditioning")),_amountOfRooms:r($("#amountOfRooms")),_amountOfBathrooms:r($("#amountOfBathrooms")),_summedPrice:parseInt($("#totalWhole").html().replace(/ /,"")),_appliancesBoolTotal:d($("#appliancesBool")),_furnitureBool:d($("#furnitureBool")),_space:r($("#space")),_color:$(".div-block-14 .color-tab.active").index()},i="";document.cookie="";for(let t in e)i=t+"="+e[t]+";",document.cookie=i}),$(".increment-field .increment").on("click",()=>{let e=$(this).siblings(".increment-input");e.val()<=0&&e.val(0)}),$("#wf-form-consult").on("submit",function(){if($("#agreementCheckbox").is(":checked")?n($(".warning.agreementcheckbox")):l($(".warning.agreementcheckbox")),$("#phone").val()?n($(".warning.inputs.phone")):l($(".warning.inputs.phone")),$("#name").val()?n($(".warning.inputs.name")):l($(".warning.inputs.name")),$(".warning").is(":visible"))return!1;{const e="https://script.google.com/macros/s/AKfycbxaZQTrmT0wZsVWErYh9k8yxgTqUn1v9NfBTXyZCv01dFmRsp-4/exec";let i=new FormData($("#wf-form-consult").get(0));fetch(e,{method:"POST",body:i}).catch(e=>console.error("Error! ",e.message))}}),$(".choice").on("click",function(e){if(!$("#appliancesBool").is(":checked"))return e.preventDefault(),$(".choiceActive").toggleClass("choiceActive"),void $(".choiceActiveBorder").toggleClass("choiceActiveBorder");$(this).hasClass("borderAcrive")||($(".choiceActive").removeClass("choiceActive"),$(".choiceActiveBorder").removeClass("choiceActiveBorder"),$(this).addClass("choiceActive"),$(this).parent().addClass("choiceActiveBorder"),$("#node").is(":checked")&&$("#appliances").prop("checked","checked"))}),$("#node").on("change",()=>{$("#node").is(":checked")&&$(".choiceActive")&&($(".choiceActive").toggleClass("choiceActive"),$(".choiceActiveBorder").toggleClass("choiceActiveBorder"))}),$("#appliancesBool").on("change",function(){$(this).is(":checked")&&!document.querySelector(".choiceActiveBorder")&&($(".choice").first().toggleClass("choiceActive"),$(".choice").first().parent().toggleClass("choiceActiveBorder"))}),$(".hover-text").on("click",function(){let e=$(this);e.siblings(".hover-modal").css("display","flex"),0==e.siblings(".hover-modal").css("opacity")?(function(e){const i=e.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)}(e.siblings(".hover-modal").get(0))||$([document.documentElement,document.body]).animate({scrollTop:e.siblings(".hover-modal").offset().top-96},450),e.siblings(".hover-modal").animate({bottom:42,opacity:1},200,"swing")):e.siblings(".hover-modal").animate({bottom:12,opacity:0},200,function(){n(e.siblings(".hover-modal"))})}),$(".submit-container .button").on("click",function(e){e.preventDefault();let i=$(this).html();$(this).html("Зачекайте...");let t=$(this).attr("href"),o=new FormData,c="cozy"===data.style?"Козі":"japandi"===data.style?"Джапанді":"fusion"===data.style?"Фьюжн":"modern"===data.style?"Модерн":"Нео Класика",a=data.space<60?4:data.space<=80?5:data.space<=100?6:data.space<=130?7:data.space<=150?8:data.space<=175?9:10;o.append("Стиль",c),o.append("Ціна за метр",$("#total").html()),o.append("Загальна ціна",$("#totalWhole").html()),o.append("Площа",r($("#space"))),o.append("Кількість кімнат",r($("#amountOfRooms"))),o.append("Кількість санвузлів",r($("#amountOfBathrooms"))),o.append("Ванна",d($("#bathtub"))),o.append("Душ",d($("#shower")));let n="stretch ceiling"==$(":radio[name='ceiling']:checked").val()?"Натяжна матова":"gapless"==$(":radio[name='ceiling']:checked").val()?"Натяжна бесщелева матова":"Гіпсокартон",l="laminat"==$(":radio[name='flooring']:checked").val()?"Ламінат":"vynil"==$(":radio[name='flooring']:checked").val()?"Вінілова підлога":"Паркет",h=null==s($(".choiceActiveBorder"),"appliances")?"Не обрано":s($(".choiceActiveBorder"),"appliances").substr(0,1).toUpperCase()+s($(".choiceActiveBorder"),"appliances").substr(1);o.append("Стеля",n),o.append("Підлогове покриття",l),o.append("Стяжка підлоги",d($("#floorscreed"))),o.append("Шумоізоляція",d($("#noise"))),o.append("Вхідні двері",d($("#doors"))),o.append("Другий шар гіпсокартону",d($("#secondGypsumLayer"))),o.append("Гігієнічний душ",d($("#hygienicShower"))),o.append("Тепла підлога",r($("#heatedFlooring"))),o.append("Кондиціювання",r($("#conditioning"))),o.append("Меблі",d($("#furnitureBool"))),o.append("Техніка",h),o.append("Термін виконання робіт",a),fetch("https://script.google.com/macros/s/AKfycbxiJPHg5oz88UhS0apuylDhgjLskSLo-Dt2mvF6VA/exec",{method:"POST",body:o}).then(()=>{$(this).html(i),window.location=t}).catch(e=>console.error("Error!",e.message))}),$(".closing-btn").on("click",function(){let e=$(this);e.parent(".hover-modal").animate({bottom:12,opacity:0},200,function(){n(e.parent(".hover-modal"))})}),vw<=480&&$(".tab-new").eq(1).trigger("click"),vw>=992&&($(".preview-image, .blackbg-text").on("hover",()=>$(".video-cursor").css("opacity",1),()=>$(".video-cursor").css("opacity",0)),$(".project-link-image").on("hover",()=>$(".project-dot").css("opacity",1),()=>$(".project-dot").css("opacity",0)),$(".arrow-right").on("hover",()=>$(".small-hover.right").css("opacity",1),()=>$(".small-hover.right").css("opacity",0)),$(".arrow-left").on("hover",()=>$(".small-hover.left").css("opacity",1),()=>$(".small-hover.left").css("opacity",0)),$(".color-tab").on("click",function(){let e=$(this).index(),i=o($(".calculator-tab.w--current").index());$(this).not(".active")&&(a($(".color-tab.active")),$(".div-block-14 .color-tab").each(function(){$(this).index()==e&&c($(this))}),n($(".color-var, .wrap-border.calculator-btn")),l($(`.calculator-slide .color-${e+1}, .wrap-border.calculator-btn.specification-${i}.color-${e+1}`)))}),$(".calculator-slider-option").on("click",function(){a($(".calculator-slider-option.active")),c($(this)),slideIndex=parseInt($(this).data("slider-index")),i.go(slideIndex)}),$(".calculator-arrow").on("click",function(){$(this).is(".arrow-right")?i.go(">"):i.go("<"),a($(".calculator-slider-option.active")),c($(`.calculator-slider-option:eq(${i.index})`))}),$("form input").on("keydown",function(e){13!=e.keyCode||e.preventDefault()})),vw<=767&&($(".star").on("mouseleave",function(){$(this).removeClass("hidden"),$(this).siblings(".image-price").removeClass("active")}),$(".image-price").on("click",function(){$(this).is(".active")&&($(this).siblings(".star").removeClass("hidden"),$(this).removeClass("active"))}),$(".star").on("click",function(){$(this).is(".hidden")?($(this).removeClass("hidden"),$(this).siblings(".image-price").removeClass("active")):($(this).addClass("hidden"),$(this).siblings(".image-price").addClass("active"))}))});
