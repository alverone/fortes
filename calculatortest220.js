let style="cozy",appliancesCookie="";$("#space").val(50);let space=+$("#space").val(),amountOfRooms=+$("#amountOfRooms").val(),amountOfBathrooms=+$("#amountOfBathrooms").val(),furnitureBool=+$("#furnitureBool").is(":checked"),appliancesBoolTotal=+$("#appliancesBool").is(":checked"),bathtub=+$("#bathtub").is(":checked"),shower=+$("#shower").is(":checked"),optionsBool={hygienicShower:+$("#hygienicShower").is(":checked"),secondGypsumLayer:+$("#secondGypsumLayer").is(":checked"),floorScreed:+$("#floorscreed").is(":checked"),heatedFlooring:+$("#heatedFlooring").val(),denoising:+$("#noise").is(":checked"),entranceDoors:+$("#doors").is(":checked"),conditioning:+$("#conditioning").val()},ceilingBool={ceiling1:+$("#ceiling1").is(":checked"),ceiling2:+$("#ceiling2").is(":checked"),ceiling3:+$("#ceiling3").is(":checked")},flooringBool={laminate:+$("#laminat").is(":checked"),vinyl:+$("#vynil").is(":checked"),parquet:+$("#parket").is(":checked")},appliancesBool={standardGorenje:1,standardBosch:0,premiumMiele:0};const onDataLoaded=e=>{let o="",i=0,n=">=",l="<=",a="=",t=0,c=0;function s(s,r){let h=e.feed.entry.find(e=>e.title.$t==s).gs$cell.inputValue;if(h.includes("=IF")){for(;")"==h[h.length-1];)h=h.substring(0,h.length-1);let e=h.split("IF");e=e.map(e=>e.split(";"));for(let s=1;s<e.length;s++){i=parseFloat(e[s][1].replace(",","."));let h=e[s][0].slice(1,e[s][0].replace(",",".").length).split("=");if(c=e[s][0].slice(1,e[s][0].replace(",",".").length).split("=")[1],o=h[0].indexOf(">")>-1?n:h[0].indexOf("<")>-1?l:a,t||(t=i),"<="===o&&+r<=+c)return t=i;">="===o&&+r>=+c&&(t=i)}return parseFloat(t)}if(isFinite(parseFloat(e.feed.entry.find(e=>e.title.$t==s).content.$t.replace(",",".")))){let o=e.feed.entry.find(e=>e.title.$t==s).content.$t.replace(",",".");return parseFloat(o.replace(",","."))}return parseFloat(e.feed.entry.find(e=>e.title.$t==s).content.$t)}function r(){"modern"==style?letter="O":"fusion"==style?letter="M":"cozy"==style?letter="I":"japandi"==style?letter="K":"neoclassic"==style&&(letter="Q");let e={},o=[42,43,44,45,46,47,48,49,50,52,53,54,56,57,58,60,61,62,64,65],i=["waterSupply","canalisation","ventilation","electricity","shower","bathtub","gypsumMontage","kafel","doorInstallation","wallPainting","ceilingPainting","mouldings","ceiling1","ceiling2","ceiling3","laminate","vinyl","parquet","plinth","plinthHidden"];for(let n=0;n<i.length;n++)e[`${i[n]}`]=s(`${letter}${o[n]}`,space);let n={},l=[102,103,104,105,106,107,108,109,110,112,113],a=["floorScreed","hygienicShower","heatedFlooring","partitions","gypsumCeilingDenoising","tensionCeilingDenoising","denoising","entranceDoor","entranceDoorMontage","conditioningSplit","conditioner"];for(let e=0;e<a.length;e++)n[`${a[e]}`]=s(`${letter}${l[e]}`,space);let t={},c=[72,73,74,75,76,77,79,80,81,82,83,84,85,86,87,88,89,91,92,93,94],r=["door","kafel","corniceWall","corniceCeiling","plinth","electricalFurniture","sink","stand","waterMixer","bathShelf","bathtub","ladder","shower","bathShowerMixer","toilet","towelHolder","bathMirror","laminate","quartzvinyl","parquet","delivery"];for(let e=0;e<r.length;e++)t[`${r[e]}`]=s(`${letter}${c[e]}`,space);let h={},p=[120,121,122,123,124,125,126,127,131,132,134,135,136,137,138,139,141,142,143,144,145,146,147,149,150,151,152,153],d=["kitchen","kitchenMontage","kitchenDelivery","kitchenSink","kitchenSinkMixer","table","chairs","otherKitchenFurniture","sofa","livingroomChair","bed","matress","shelves","cupboard","bedChair","mirror","spotlight","chandelier","bedsideLight","kitchenWallLight","kitchenCeilingLight","livingroomFloorLight","hangingLight","curtains","tulle","cornice","jalousie","coffeeTable"];for(let e=0;e<d.length;e++)h[`${d[e]}`]=s(`${letter}${p[e]}`,space);let g={gorenje:{fridge:s("D161"),oven:s("D162"),varochnayaPanel:s("D163"),microwave:s("D164"),vytyazhka:s("D165"),washingMachine:s("D166"),dishwasher:s("D167"),boiler:s("D168"),TV:s("D169")},bosch:{fridge:s("D175"),oven:s("D176"),varochnayaPanel:s("D177"),microwave:s("D178"),vytyazhka:s("D179"),washingMachine:s("D180"),sushylnaMachina:s("D181"),dishwasher:s("D182"),boiler:s("D183"),TV:s("D184")},miele:{fridge:s("D190"),oven:s("D191"),varochnayaPanel:s("D192"),vytyazhka:s("D193"),washingMachine:s("D194"),sushylnaMachina:s("D195"),dishwasher:s("D196"),boiler:s("D197"),TV:s("D198")}},u=s("S99");s("S157"),s("S113"),parseFloat(s("G8",space));return(.9*function(e){let o="";appliancesBool.standardGorenje?o=e.gorenje:appliancesBool.standardBosch?o=e.bosch:appliancesBool.premiumMiele&&(o=e.miele);let i=0,n=1;if(appliancesBoolTotal){for(let e in o)i+=+o[e],n++;n=1}let l=0,a=0,t=0;for(let o in e.gorenje)l+=e.gorenje[o],n++;n=1;for(let o in e.bosch)a+=e.bosch[o],n++;n=1;for(let o in e.miele)t+=e.miele[o],n++;return $(".choice[data-appliances='gorenje']").children(".grey").html(`${Math.round(l/(28.5*space))}$/м²`),$(".choice[data-appliances='bosch']").children(".grey").html(`${Math.round(a/(28.5*space))}$/м²`),$(".choice[data-appliances='miele']").children(".grey").html(`${Math.round(t/(28.5*space))}$/м²`),(i+=n*parseFloat(s("G36")))*appliancesBoolTotal}(g)+function(e,o){let i=e,n=0,l=0,a=0,t=0,c=0;n=(i.kitchen+i.kitchenDelivery+i.kitchenMontage+i.kitchenSink+i.kitchenSinkMixer+i.table+4*i.chairs+i.otherKitchenFurniture)*furnitureBool,l=(i.sofa+i.livingroomChair)*furnitureBool,a=i.bed+i.matress+(i.cupboard+i.bedChair+i.mirror)*furnitureBool+2*i.shelves,t=(i.spotlight*(.48*space)+i.kitchenWallLight+i.livingroomFloorLight+i.hangingLight)*furnitureBool+2*i.kitchenCeilingLight+2*i.bedsideLight+i.chandelier,c=i.jalousie*furnitureBool+i.coffeeTable*(amountOfRooms-1)+(i.cornice+i.tulle+i.curtains)*amountOfRooms;let r=i.kitchen+i.kitchenDelivery+i.kitchenMontage+i.kitchenSink+i.kitchenSinkMixer+i.table+4*i.chairs+i.otherKitchenFurniture+(i.sofa+i.livingroomChair)+(i.cupboard+i.bedChair+i.mirror)+(i.spotlight*(.48*space)+i.kitchenWallLight+i.livingroomFloorLight+i.hangingLight)+i.jalousie,h=(n+l+a+t+c)*(1+s("S157")/100);return furnitureBool&&(h+=.03*h*1.26),$("#furnitureBool").siblings(".label").html(`Так <span class="grey">+${Math.round(r/(28.5*space))}$/м²</span>`),h}(h)+(function(e){let o,i,n,l=e,a=0,t=0,c=0,r=0;return a=l.door*(amountOfBathrooms+amountOfRooms)+l.kafel*amountOfBathrooms*35+.66*l.corniceWall*space+.66*l.corniceCeiling*space+.59*l.plinth*space+s("H77",space)*l.electricalFurniture,t=amountOfBathrooms*(l.sink+l.stand+l.waterMixer+l.bathShelf)+l.bathtub*bathtub+(l.shower+l.ladder)*shower+(bathtub+shower)*l.bathShowerMixer+amountOfBathrooms*l.toilet+(l.towelHolder+l.bathMirror)*amountOfBathrooms,space<100?o=n=i=space-7*amountOfBathrooms:space>=100&&(i=o=n=space-10*amountOfBathrooms),r=a+t+(c=l.laminate*i*flooringBool.laminate+l.quartzvinyl*o*flooringBool.vinyl+l.parquet*n*flooringBool.parquet)+100*space*furnitureBool}(t)+function(e,o){let i=0,n=0,l=0,a=0,t=0,c=0;c=(e.electricity+e.waterSupply+e.canalisation+e.ventilation*amountOfBathrooms)*space;let r=(t=e.kafel*amountOfBathrooms*space+e.bathtub*bathtub+e.shower*shower+e.gypsumMontage*space+e.doorInstallation*(amountOfBathrooms+amountOfRooms))+(i=(e.ceiling1*ceilingBool.ceiling1+e.ceiling2*ceilingBool.ceiling2+e.ceiling3*ceilingBool.ceiling3)*space)+(l=(e.laminate*flooringBool.laminate+e.vinyl*flooringBool.vinyl+e.parquet*flooringBool.parquet)*space)+(n=e.wallPainting*space+e.ceilingPainting*ceilingBool.ceiling3*space+e.mouldings)+(a=(e.plinth+e.plinthHidden)*space);return r+=.022*r+(100*space+2*s("G8",space)*1200+3e3)+c}(e))*(1+u/100)+function(e){let o=e,i=0,n=0,l=0,a=optionsBool.floorScreed*o.floorScreed*space,t=amountOfBathrooms*o.hygienicShower*optionsBool.hygienicShower,c=optionsBool.heatedFlooring*o.heatedFlooring,r=o.partitions*optionsBool.secondGypsumLayer*space;optionsBool.denoising+ceilingBool.ceiling3>1&&(n=o.gypsumCeilingDenoising*space),optionsBool.denoising+ceilingBool.ceiling1+ceilingBool.ceiling2>1&&(l=o.tensionCeilingDenoising*space);let h=o.denoising*optionsBool.denoising*space,p=0;optionsBool.conditioning&&(p=o.conditioner*optionsBool.conditioning*(1+s("S113")/100)*1.05+o.conditioningSplit*space);let d=optionsBool.entranceDoors*(o.entranceDoor+o.entranceDoorMontage);return $("#floorscreed").siblings(".label").html(`Стяжка підлоги <span class="grey">+${Math.round(o.floorScreed/28.5)}$/м²</span>`),$("#noise").siblings(".label").html(`Шумоізоляція <span class="grey">+${Math.round((o.denoising*space+o.tensionCeilingDenoising*space*(ceilingBool.ceiling1+ceilingBool.ceiling2)+o.gypsumCeilingDenoising*space*ceilingBool.ceiling3)/1425)}$/м²</span>`),$("#doors").siblings(".label").html(`Вхідні двері <span class="grey">+${Math.round((o.entranceDoor+o.entranceDoorMontage)/(28.5*space))}$/м²</span>`),$("#secondGypsumLayer").siblings(".label").html(`Другий шар гіпсокартону <span class="grey">+${Math.round(o.partitions/28.5)}$/м²</span>`),$("#hygienicShower").siblings(".label").html(`Гігієнічний душ <span class="grey">+${Math.round(amountOfBathrooms*o.hygienicShower/(28.5*space))}$/м²</span>`),i=a+t+c+r+n+l+h+p+d}(n))/(28.5*space)}function h(e){function o(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}$("#total").html(o(Math.round(r()))),$("#totalWhole").html(o(Math.round(r()*e)))}function p(){space=+$("#space").val(),amountOfRooms=+$("#amountOfRooms").val(),amountOfBathrooms=+$("#amountOfBathrooms").val(),optionsBool.heatedFlooring=+$("#heatedFlooring").val(),optionsBool.conditioning=+$("#conditioning").val(),optionsBool.hygienicShower=+$("#hygienicShower").is(":checked"),optionsBool.secondGypsumLayer=+$("#secondGypsumLayer").is(":checked"),furnitureBool=+$("#furnitureBool").is(":checked"),bathtub=+$("#bathtub").is(":checked"),shower=+$("#shower").is(":checked"),appliancesBoolTotal=+$("#appliancesBool").is(":checked"),optionsBool.floorScreed=+$("#floorscreed").is(":checked"),optionsBool.denoising=+$("#noise").is(":checked"),optionsBool.entranceDoors=+$("#doors").is(":checked"),ceilingBool.ceiling1=+$("#ceiling1").is(":checked"),ceilingBool.ceiling2=+$("#ceiling2").is(":checked"),ceilingBool.ceiling3=+$("#ceiling3").is(":checked"),flooringBool.laminate=+$("#laminat").is(":checked"),flooringBool.vinyl=+$("#vynil").is(":checked"),flooringBool.parquet=+$("#parket").is(":checked")}function d(e){0==e?style="cozy":2==e?style="fusion":1==e?style="japandi":3==e?style="modern":4==e&&(style="neoclassic")}$("input").on("input",function(){p(),h(space)}),$("#space").on("input",function(e){if($(this).val($(this).val().match(/\d*\.?\d+/)),h(space=+$("#space").val()),0==space||0==amountOfRooms)return $("#total").html(0),void $("#totalWhole").html(0)}),$("#space").on("focusout",function(e){(parseInt($(this).val())<30||!$(this).val())&&($(this).val(30),space=+$("#space").val(),h(30))}),$(".increment-field .increment").on("click",function(e){if(e.preventDefault(),$(this).siblings(".increment-input").val(parseInt($(this).siblings(".increment-input").val())+parseInt($(this).val())),"0"===$(this).siblings(".increment-input").val()?"1"===$(this).val()?$(this).siblings($(".increment")).toggleClass("disabled"):$(this).toggleClass("disabled"):parseInt($(this).siblings(".increment-input").val())>0&&$(this).siblings(".disabled").toggleClass("disabled"),p(),0==amountOfRooms)return $("#total").html(0),void $("#totalWhole").html(0);h(space)}),$(".calculator-tab").on("click",function(e){number=parseInt($(this).attr("data-slider-index")),d(number),$(".calculator-slide").toggle(!1),$(".calculator-slide.main").toggle(!0),$(".calculator-slide."+style).toggle(!0),h(space)}),$("#calculate").on("click",function(){let e=parseInt($(".slider-tab.w--current").data("slider-index"));d(e),$(".calculator-tab").removeClass("w--current"),$(".calculator-tab[data-slider-index='"+e+"']").addClass("w--current"),h(space),$(".calculator-slider-side").slick("slickGoTo",0),$(".calculator-slide").toggle(!1),$(".calculator-slide.main").toggle(!0),$(".calculator-slide."+style).toggle(!0),$(".calculator-slider-option.active").removeClass("active"),$(".calculator-slider-option:eq(0)").addClass("active")}),$(".calculatecozy").on("click",function(){style="cozy",$("calculator-tab.w--current").removeClass("w--current"),$(".wrap-border.calculator-tab .custom-style").css("color","black"),$(".wrap-border.calculator-tab .custom-style").css("background","white"),$("calculator-tab:eq(0)").addClass("w--current"),$(".calculator-tab").removeClass("w--current"),$(".calculator-tab:eq(0)").addClass("w--current"),h(space),$(".calculator-slider-side").slick("slickGoTo",0),$(".calculator-slide").toggle(!1),$(".calculator-slide.main, .calculator-slide.cozy").toggle(!0),$(".calculator-slider-option.active").removeClass("active"),$(".calculator-slider-option:eq(0)").addClass("active")}),$(".choice").on("click",function(){if($("#node").is(":checked"))return 0;appliancesBoolTotal=1,appliancesCookie=$(this).attr("data-appliances"),"bosch"==$(this).attr("data-appliances")?(appliancesBool.standardBosch=1,appliancesBool.premiumMiele=0,appliancesBool.standardGorenje=0):"gorenje"==$(this).attr("data-appliances")?(appliancesBool.standardBosch=0,appliancesBool.premiumMiele=0,appliancesBool.standardGorenje=1):(appliancesBool.standardBosch=0,appliancesBool.premiumMiele=1,appliancesBool.standardGorenje=0),h(space)}),$("#node").on("click",function(){appliancesBoolTotal=0,appliancesBool.standardGorenje=0,appliancesBool.standardBosch=0,appliancesBool.premiumMiele=0,h(space)}),$("#appliancesBool").on("click",function(){$(this).is(":checked")&&(document.querySelector(".choiceActiveBorder")||(appliancesBoolTotal=1,appliancesBool.standardGorenje=1,h(space)))}),h(space)};
